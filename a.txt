public class ATMDaoImpl implements ATMDao {
    private static Map<String, ATMPojo> accounts = new HashMap<>();

    // Preload some accounts
    static {
        accounts.put("1001", new ATMPojo("1001", "John", 5000.0));
        accounts.put("1002", new ATMPojo("1002", "Alice", 3000.0));
    }

    @Override
    public boolean withdraw(String accountId, double amount) {
        ATMPojo acc = accounts.get(accountId);
        if (acc != null && acc.getBalance() >= amount) {
            acc.setBalance(acc.getBalance() - amount); // update in place
            return true;
        }
        return false;
    }

    @Override
    public boolean deposit(String accountId, double amount) {
        ATMPojo acc = accounts.get(accountId);
        if (acc != null) {
            acc.setBalance(acc.getBalance() + amount); // update in place
            return true;
        }
        return false;
    }

    @Override
    public double checkBalance(String accountId) {
        ATMPojo acc = accounts.get(accountId);
        return acc != null ? acc.getBalance() : -1;
    }

    // Example extra functions
    @Override
    public boolean transfer(String fromId, String toId, double amount) {
        if (withdraw(fromId, amount)) {
            return deposit(toId, amount);
        }
        return false;
    }

    @Override
    public List<ATMPojo> getAllAccounts() {
        return new ArrayList<>(accounts.values());
    }
}
